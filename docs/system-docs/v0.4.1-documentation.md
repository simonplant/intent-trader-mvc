# Intent Trader Documentation

## 📚 Table of Contents

- [Overview](#overview)
- [Architecture](#architecture)
- [Installation](#installation)
- [Usage Guide](#usage-guide)
- [Core Components](#core-components)
- [Prompt Library](#prompt-library)
- [Knowledge Base](#knowledge-base)
- [Integrations](#integrations)
- [Development](#development)
- [API Reference](#api-reference)
- [Examples](#examples)
- [FAQ](#faq)
- [Troubleshooting](#troubleshooting)
- [Release Notes](#release-notes)
- [Contributing](#contributing)

## Overview

Intent Trader is a modular, AI-ready trading assistant designed to enhance decision-making for active traders. It combines structured prompts, knowledge bases, and algorithmic components to create a cognitive system that assists with trade planning, execution validation, and performance analysis.

### Key Features

- **Modular prompt design** across trading phases (premarket, intraday, postmarket)
- **Knowledge integration** from elite market sources (DP, Mancini, technical analysis)
- **Behavioral tracking** to identify emotional patterns and trading psychology
- **Trade validation** against planned setups and risk parameters
- **Performance coaching** based on execution alignment with strategy

### System Requirements

- VS Code with recommended extensions
- Node.js v16+ (optional, for JS utilities)
- Python 3.9+ (for validation scripts)
- API access to Claude and/or ChatGPT (Claude 3.7 Sonnet recommended)

## Architecture

Intent Trader uses a cognitive-deterministic separation pattern that divides processing into:

1. **Cognitive Processing** (handled by LLMs via prompts)
   - Trade idea extraction and analysis
   - Behavioral pattern interpretation
   - Confidence assessment
   - Recommendation generation

2. **Deterministic Processing** (handled by JavaScript)
   - Schema validation
   - Data transformation
   - Metric calculation
   - Structural pattern matching

### System Architecture Diagram

```
┌───────────────────────────────────────────────────────────────┐
│                        INTENT TRADER                           │
└───────────────────────────────────────────────────────────────┘
                               │
           ┌──────────────────┴───────────────────┐
           ▼                                       ▼
┌────────────────────┐                 ┌────────────────────────┐
│  PROMPT LIBRARY    │                 │     KNOWLEDGE BASE     │
│  ───────────────   │                 │     ────────────       │
│  • Premarket       │◄───────┐        │  • DP Insights         │
│  • Intraday        │        │        │  • Mancini Framework   │
│  • Postmarket      │        │        │  • Patterns & Setups   │
│  • System          │        │        │  • Trade Psychology    │
└─────────┬──────────┘        │        └───────────┬────────────┘
          │                   │                    │
          ▼                   │                    ▼
┌────────────────────┐        │        ┌────────────────────────┐
│   MAIN CONTROLLER  │        │        │      LOG SYSTEM        │
│   ──────────────   │        │        │      ──────────        │
│  • Route handling  │        │        │  • Trade logs          │
│  • Prompt dispatch │        │        │  • Behavior tracking   │
│  • Context mgmt    │        │        │  • Performance metrics │
└─────────┬──────────┘        │        └───────────┬────────────┘
          │                   │                    │
          └───────────────────┼────────────────────┘
                              │
                              ▼
┌───────────────────────────────────────────────────────────────┐
│                    LLM INTERFACE LAYER                         │
│                    ───────────────────                         │
│           • Claude 3.7 Sonnet   • GPT-4 Turbo                  │
└───────────────────────────────────────────────────────────────┘
```

### Directory Structure

```
intent-trader/
├── prompts/                  # Phase-based prompts
│   ├── premarket/            # Morning preparation
│   ├── intraday/             # Execution validation
│   ├── postmarket/           # Performance review
│   └── system/               # Core system prompts
├── knowledge/                # Trading knowledge base
│   ├── dp-insights.md        # DP mental model
│   ├── mancini-insights.md   # Mancini framework
│   ├── patterns-and-setups.md # Trade setups
│   └── trade-psychology.md   # Behavior patterns
├── logs/                     # Log storage
│   ├── trades/               # Trade execution logs
│   ├── behaviors/            # Behavior tracking
│   ├── journal/              # Trading journal
│   └── performance/          # Performance metrics
├── system/                   # Core system files
│   ├── main-controller.md    # Route handling
│   ├── registry.yaml         # Prompt registry
│   └── metadata-style.md     # Metadata standards
├── tests/                    # Validation scripts
│   ├── validate-metadata.py  # Checks front matter
│   └── verify-log-schema.py  # Checks JSON logs
└── docs/                     # Documentation
    ├── architecture.md       # System design
    ├── workflow.md           # Usage workflows
    └── examples/             # Example interactions
```

## Installation

### Prerequisites

Before installing Intent Trader, ensure you have:

1. A GitHub account to clone the repository
2. VS Code installed on your computer
3. Node.js and Python installed (optional, for utilities)
4. API access to Claude and/or ChatGPT

### Step-by-Step Installation

1. **Clone the repository**

```bash
git clone https://github.com/yourusername/intent-trader.git
cd intent-trader
```

2. **Open the workspace in VS Code**

```bash
code intent-trader.code-workspace
```

3. **Install recommended extensions**

VS Code will prompt you to install recommended extensions.

4. **Set up your LLM API connections**

Create a `.env` file with your API keys (if using programmatic access):

```
ANTHROPIC_API_KEY=your_claude_api_key
OPENAI_API_KEY=your_openai_api_key
```

5. **Run initial validation**

```bash
python tests/validate-metadata.py
```

## Usage Guide

Intent Trader is designed to support a trader's workflow through three main phases:

### Premarket Preparation

1. **Analyze Trade Sources**

Use `/dp-analysis` to extract DP's trade ideas:

```
/dp-analysis
Source: [paste DP transcript here]
```

2. **Get Technical Levels**

Use `/mancini-analysis` for technical structure:

```
/mancini-analysis
Source: [paste Mancini's blueprint here]
```

3. **Create Unified Trade Plan**

Generate a complete plan with:

```
/unified-trade-plan
```

### Intraday Execution

1. **Validate Trades Before Execution**

Before placing a trade, validate it against your plan:

```
/validate-trade
Ticker: QQQ
Direction: SHORT
Strike: 480
Expiry: 2025-05-16
Entry: 484.50
Stop: 486.75
Target: 478.25
```

2. **Log Executed Trades**

Record trades after execution:

```
/log-trade
Ticker: QQQ
Contract: 5/16 480P
Entry: 2.60
Size: 3
Confidence: Medium
Source: DP
```

3. **Check Alerts**

Monitor key price levels:

```
/check-alerts
```

### Postmarket Analysis

1. **Compare Plan vs. Execution**

Review alignment with original plan:

```
/compare-execution
```

2. **Identify Missed Opportunities**

Analyze setups you didn't take:

```
/missed-trades
```

3. **Get Performance Coaching**

Receive personalized coaching:

```
/performance-coach
```

## Core Components

### Main Controller

The system's central routing mechanism is defined in `system/main-controller.md`. This file maps user commands to specific prompts and enforces standardized behavior across the system.

### Prompt Registry

All available prompts are registered in `system/registry.yaml`, which defines routes, phases, and tags for each prompt.

### Knowledge Base

The knowledge base contains structured documents that capture trading strategies, patterns, and psychological insights:

- `dp-insights.md`: DP's trading mental model
- `mancini-insights.md`: Mancini's futures trading framework
- `patterns-and-setups.md`: Documented trade setups
- `trade-psychology.md`: Behavioral patterns and remediation

### Log System

The logging system captures trades, behaviors, and performance metrics in a structured format:

- Trade logs: JSON-structured trade records
- Behavior logs: Emotional and psychological patterns
- Performance metrics: Execution quality and plan alignment

## Prompt Library

Intent Trader uses a library of carefully crafted prompts organized by trading phase:

### Premarket Prompts

- `/dp-analysis`: Extracts trade ideas from DP transcripts
- `/mancini-analysis`: Parses Mancini's technical framework
- `/stack-rank-trades`: Prioritizes trade ideas by confidence
- `/unified-trade-plan`: Creates cohesive daily plan

### Intraday Prompts

- `/validate-trade`: Checks trade alignment with plan
- `/log-trade`: Captures trade details
- `/check-alerts`: Monitors key price levels

### Postmarket Prompts

- `/compare-execution`: Reviews plan vs actual trades
- `/missed-trades`: Identifies overlooked opportunities
- `/performance-coach`: Provides behavioral insights

### System Prompts

- `/sizing-rules`: Defines position sizing rules
- `/metadata-style`: Enforces documentation standards

## Knowledge Base

The knowledge base contains structured information about trading strategies, market insights, and behavioral patterns.

### DP Insights

Core components of DP's trading approach:

- Premarket framework
- Intraday execution
- Postmarket debrief
- Trade classification system

### Mancini Framework

Key elements of Mancini's futures trading approach:

- Core philosophy
- Premarket planning
- Trade execution patterns
- Structure types (Failed Breakdowns, etc.)

### Patterns and Setups

Documented trade setups including:

- A+ Setups
- Fade Setups
- Technical patterns
- Entry/exit criteria

### Trade Psychology

Behavioral framework including:

- Emotional behavior flags
- Recovery routines
- Pattern recognition
- Intervention protocols

## Integrations

Intent Trader is designed to integrate with various tools and platforms:

### LLM Integrations

- **Claude**: Primary recommended integration via Claude 3.7 Sonnet
- **ChatGPT**: Alternative integration via GPT-4 Turbo

### Development Integrations

- **VS Code**: Custom workspace and settings
- **GitHub**: Version control and CI/CD
- **Python utilities**: Validation scripts

### Potential Integrations

- **Trading platforms**: via API connections
- **Data providers**: market data integration
- **Calendar applications**: scheduling coordination

## Development

### Front Matter Standards

All prompt files must include standardized YAML front matter:

```yaml
---
title: [Prompt Title]
description: [What this prompt does]
phase: [premarket|intraday|postmarket|system]
route: /[route-name]
output: raw
style:
  decorate: false
  emojis: false
  tone: direct
  format: text/plain
tags: [relevant, tags]
version: 0.4.1
---
```

### Validation Tools

Two primary validation tools ensure system integrity:

1. **Metadata Validator**: Checks front matter format

```bash
python tests/validate-metadata.py
```

2. **Log Schema Validator**: Ensures log structure consistency

```bash
python tests/verify-log-schema.py
```

### Adding New Prompts

To add a new prompt to the system:

1. Create a new markdown file in the appropriate phase directory
2. Include standardized front matter
3. Add the route to `system/registry.yaml`
4. Update `system/main-controller.md` with the new route
5. Validate with `tests/validate-metadata.py`

## API Reference

### Prompt API Structure

Each prompt follows a consistent structure:

```
# [Title]

[Description of the prompt's purpose]

Input:
- [Input parameter 1]
- [Input parameter 2]

Output:
- [Output format description]

[Prompt instructions and guidance]
```

### JavaScript Utility Functions

Key utility functions include:

- `validateTradePlan()`: Validates trade plan structure
- `scoreTechnicalAlignment()`: Scores trade ideas against levels
- `calculatePositionSizeMetrics()`: Analyzes position sizing patterns

## Examples

### Example 1: Morning Trade Plan Generation

```
Step 1: Analyze DP's morning call

/dp-analysis
Source: [DP transcript]

Step 2: Extract Mancini's levels

/mancini-analysis
Source: [Mancini blueprint]

Step 3: Generate unified trade plan

/unified-trade-plan
```

### Example 2: Trade Validation Workflow

```
/validate-trade
Ticker: PLTR
Direction: SHORT
Strike: 100
Expiry: 2025-05-09
Entry: 113.75
Stop: 115.50
Target: 101.00
```

Response:
```
VALID
- Aligns with DP's high-conviction PLTR short
- Entry at critical 113 uptrend level
- Target matches 21-day MA (101)
- Size appropriate for Tier 1 trade
```

### Example 3: Performance Analysis

```
/compare-execution
```

Response:
```
Plan Alignment: 85%
Aligned Trades:
- QQQ 5/16 480P: Followed plan with proper sizing
- PLTR 5/9 100P: Matched DP's high-conviction idea

Unaligned Trades:
- QQQ 5/6 480P: Not in plan, reactive to headlines
- Oversized by 3x vs. plan guideline
```

## FAQ

### General Questions

**Q: What makes Intent Trader different from other trading assistants?**
A: Intent Trader's uniqueness comes from its modular design, structured knowledge base, and behavioral tracking capabilities. It's designed to adapt to your trading style while promoting discipline and systematic execution.

**Q: Does Intent Trader make trading decisions for me?**
A: No, Intent Trader is a decision support system, not an automated trading bot. It helps validate your trades against your plan, tracks behavioral patterns, and provides coaching, but the final trading decisions remain yours.

### Technical Questions

**Q: Can I use Intent Trader with any LLM?**
A: While designed for Claude 3.7 Sonnet, Intent Trader can work with any advanced LLM that supports structured prompting. GPT-4 Turbo is a viable alternative, though some prompt adaptation may be necessary.

**Q: How do I add custom trade setups?**
A: Add your custom setups to `knowledge/patterns-and-setups.md` following the existing format. They'll be automatically incorporated into trade plan generation and validation.

## Troubleshooting

### Common Issues

**Issue: Front matter validation errors**
Solution: Ensure all prompt files have the required YAML front matter fields and follow the template in `system/metadata-style.md`.

**Issue: Log schema validation errors**
Solution: Check that all JSON logs follow the required structure for their type (trade, behavior, etc.) as defined in the schema.

**Issue: Inconsistent prompt responses**
Solution: Verify that you're using the recommended LLM (Claude 3.7 Sonnet) and that your prompt follows the exact format shown in the examples.

## Release Notes

### v0.4.1 (Current)

- Full YAML metadata compliance across all prompts
- Restored missing prompt files
- Synced version numbers across directories
- Fixed structural integrity in ZIP archives

### v0.4.0-pre

- Full refactor of legacy trading system prompts
- Migrated to clean, modular structure
- Enforced YAML front matter
- Implemented JSON-first logging
- Added knowledge base for DP, Mancini insights

## Contributing

Intent Trader welcomes contributions that follow our established guidelines:

### Contribution Guidelines

- Follow YAML front matter conventions
- Use plain text formatting (no emojis, decoration)
- Maintain file naming conventions (lowercase, dash-separated)
- Prefer JSON format for logs
- Register new prompts in `registry.yaml` and `main-controller.md`
- Add tests for new functionality

### Development Workflow

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Run validation tests
5. Submit a pull request

### Future Development

Priority areas for future development include:

- Enhanced behavioral analysis
- Trade simulation capabilities
- Performance analytics dashboard
- Multi-source integration
- Agentic extensions

---

*This documentation is for Intent Trader v0.4.1. Last updated: May 2025.*
