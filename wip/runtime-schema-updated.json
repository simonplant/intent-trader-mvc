{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Intent Trader Runtime Schema (Flattened)",
  "description": "Simplified schema for runtime LLM agents like Claude (max depth: 3)",
  "version": "0.5.3",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "description": "Globally unique identifier for this object",
      "pattern": "^[a-zA-Z0-9-_]+$"
    },
    "symbol": {
      "type": "string",
      "description": "The ticker symbol for this trade"
    },
    "direction": {
      "type": "string",
      "enum": [
        "long",
        "short"
      ],
      "description": "Trade direction"
    },
    "entryMin": {
      "type": "number",
      "description": "Minimum entry price",
      "minimum": 0
    },
    "entryMax": {
      "type": "number",
      "description": "Maximum entry price",
      "minimum": 0
    },
    "stop": {
      "type": "number",
      "description": "Stop loss price level",
      "minimum": 0
    },
    "target": {
      "type": "number",
      "description": "Price target",
      "minimum": 0
    },
    "conviction": {
      "type": "string",
      "enum": [
        "focus-trade",
        "high",
        "medium",
        "low",
        "negative"
      ],
      "description": "Conviction level for the trade idea"
    },
    "confidenceScore": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "Numerical confidence score (0-1)"
    },
    "setup": {
      "type": "string",
      "description": "The trade setup type"
    },
    "tradeDuration": {
      "type": "string",
      "enum": [
        "cashflow",
        "day",
        "swing",
        "position",
        "long-term"
      ],
      "description": "Expected trade duration"
    },
    "isBreakout": {
      "type": "boolean",
      "description": "Price breaking above resistance",
      "default": false
    },
    "isReversal": {
      "type": "boolean",
      "description": "Change in trend direction",
      "default": false
    },
    "isFlagPattern": {
      "type": "boolean",
      "description": "Bullish or bearish flag pattern",
      "default": false
    },
    "isFailedBreakdown": {
      "type": "boolean",
      "description": "Failed breakdown below support with reclaim",
      "default": false
    },
    "isDayAfterTrade": {
      "type": "boolean",
      "description": "Day after major event or earnings",
      "default": false
    },
    "isTrendFollow": {
      "type": "boolean",
      "description": "Trading in direction of established trend",
      "default": false
    },
    "isRangePlay": {
      "type": "boolean",
      "description": "Trading within a defined range",
      "default": false
    },
    "isMomentumPlay": {
      "type": "boolean",
      "description": "Trading based on price momentum",
      "default": false
    },
    "isEarningsPlay": {
      "type": "boolean",
      "description": "Trade based on earnings announcement",
      "default": false
    },
    "isGapFill": {
      "type": "boolean",
      "description": "Trade targeting gap fill",
      "default": false
    },
    "source": {
      "type": "string",
      "description": "The source that created this object",
      "enum": [
        "manual",
        "dp",
        "mancini",
        "vtf",
        "moderator",
        "system",
        "claude"
      ]
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "The ISO timestamp when this object was created"
    }
  },
  "required": [
    "symbol",
    "direction",
    "entryMin",
    "entryMax",
    "stop",
    "target"
  ],
  "$id": "https://schemas.intenttrader.ai/schema/runtime/v0.5.3",
  "$comment": "Flattened runtime schema for use with LLM agents (Claude-compatible)",
  "schemaMetadata": {
    "authoringVersion": "0.5.3",
    "runtimeCompatible": true,
    "generatedDate": "2025-05-21T08:42:15Z"
  }
}